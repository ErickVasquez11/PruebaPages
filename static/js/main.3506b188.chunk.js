(this.webpackJsonpproyectofinal=this.webpackJsonpproyectofinal||[]).push([[0],{35:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(18),c=n.n(s),o=(n(35),n(2)),l=n.n(o),i=n(5),u=n(6),d=n(3),b=n(8),j="https://posts-pw2021.herokuapp.com/api/v1",f={};f.loginAdmin=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/auth/signin"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:"".concat(t),password:"".concat(n)})});case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f.verifyToken=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/auth/whoami"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f.createPost=function(){var e=Object(i.a)(l.a.mark((function e(t,n,r,a,s){var c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(j,"/post/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:"".concat(r),description:"".concat(a),image:"".concat(s)})});case 4:return c=e.sent,e.next=7,c.json();case 7:return o=e.sent,console.log(o),e.abrupt("return",o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),f.Owned=function(){var e=Object(i.a)(l.a.mark((function e(t,n,r,a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(j,"/post/owned?limit=").concat(r,"&page=").concat(a),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 4:return s=e.sent,e.next=7,s.json();case 7:return c=e.sent,console.log(c),e.abrupt("return",c);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),f.Toggle=function(){var e=Object(i.a)(l.a.mark((function e(t,n,r){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(j,"/post/toggle/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,console.log(s),e.abrupt("return",s);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log();case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f.Update=function(){var e=Object(i.a)(l.a.mark((function e(t,n,r){var a,s,c,o,i,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>3&&void 0!==u[3]?u[3]:"",s=u.length>4&&void 0!==u[4]?u[4]:"",c=u.length>5&&void 0!==u[5]?u[5]:"",e.prev=3,"admin"!==n){e.next=13;break}return e.next=7,fetch("".concat(j,"/post/update/").concat(r),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:"".concat(a),description:"".concat(s),image:"".concat(c)})});case 7:return o=e.sent,e.next=10,o.json();case 10:return i=e.sent,console.log(i),e.abrupt("return",i);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f.Commet=function(){var e=Object(i.a)(l.a.mark((function e(t,n,r){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r="")){e.next=5;break}return e.abrupt("return",{});case 5:return e.next=7,fetch("".concat(j,"/post/comment/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({description:"".concat(r)})});case 7:return a=e.sent,e.next=10,a.json();case 10:return s=e.sent,console.log(s),e.abrupt("return",s);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log();case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f.GetAll=function(){var e=Object(i.a)(l.a.mark((function e(t,n,r){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/all?limit=").concat(n,"&page=").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,console.log(s),e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f.Like=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/like/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log();case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),f.AddFavorite=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/fav/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log();case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),f.GetFavorite=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/fav"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();var x=f,m=n(1),h=a.a.createContext(),p="token",O=function(e){var t=Object(r.useState)(void 0),n=Object(u.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),o=Object(u.a)(c,2),d=o[0],j=o[1],f=function(e){localStorage.setItem(p,e),s(e)};Object(r.useEffect)((function(){var e=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=v())){e.next=8;break}return e.next=4,x.verifyToken(t);case 4:n=e.sent,r=n.username,a=n.role,r&&a&&(j({username:r,role:a}),f(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var O=Object(r.useCallback)((function(e,t){var n=function(){var n=Object(i.a)(l.a.mark((function n(){var r,a,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!1,n.prev=1,n.next=4,x.loginAdmin(e,t);case 4:a=n.sent,(s=a.token)&&(f(s),r=!0),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0),console.error("Error in credentials");case 13:return n.prev=13,n.abrupt("return",r);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})));return function(){return n.apply(this,arguments)}}();return n()}),[]),g=Object(r.useCallback)((function(){j(void 0),f(void 0)}),[]),w=Object(r.useMemo)((function(){return{token:a,user:d,login:O,Exit:g}}),[a,d,O,g]);return Object(m.jsx)(h.Provider,Object(b.a)({value:w},e))},g=function(){var e=a.a.useContext(h);if(!e)throw new Error("useUserContext() must be inside of UserProvider");return e},v=function(){return localStorage.getItem(p)},w=n(64),y=n(63),k=n(20),N=(n(38),{admin:"/admin",user:"/user"});function C(){var e=g(),t=Object(d.g)(),n=g(),a=n.login,s=(n.token,Object(r.useState)(!1)),c=Object(u.a)(s,2),o=(c[0],c[1]),b=Object(r.useState)(""),j=Object(u.a)(b,2),f=j[0],x=j[1],h=Object(r.useState)(""),p=Object(u.a)(h,2),O=p[0],v=p[1],C=function(e,t){t(e.target.value)},S=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==f&&""!==O){e.next=5;break}k.b.error("Usuario o contrase\xf1a vacios"),e.next=12;break;case 5:return e.next=7,a(f,O);case 7:n=e.sent,o(!n),x(""),v(""),n||k.b.error("Usuario o contrase\xf1a incorrectos");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var n;e.user&&t(null!==(n=N[e.user.role])&&void 0!==n?n:"/")}),[e.user]),Object(m.jsxs)("form",{onSubmit:S,className:"flex flex-col justify-center items-center\r w-80 max-w-screen-sm mx-auto h-screen md:w-auto",children:[Object(m.jsx)(k.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(m.jsxs)("div",{className:"space-y-5 bg-gray-700 px-20 py-20 rounded-md",children:[Object(m.jsxs)("div",{className:"flex flex-col space-y-1",children:[Object(m.jsxs)("label",{htmlFor:"username",className:"text-white inline-flex gap-2 text-xl font-bold items-center",children:["Usuario ",Object(m.jsx)(y.a,{})]}),Object(m.jsx)("input",{type:"text",value:f,placeholder:"Ingresa tu usuario",onChange:function(e){return C(e,x)},className:"rounded-lg py-2 px-1"})]}),Object(m.jsxs)("div",{className:"flex flex-col space-y-1",children:[Object(m.jsxs)("label",{htmlFor:"password",className:"text-white  inline-flex  gap-2 text-xl items-center font-bold",children:["Contrase\xf1a ",Object(m.jsx)(w.a,{})]}),Object(m.jsx)("input",{type:"password",value:O,placeholder:"Contrase\xf1a",onChange:function(e){return C(e,v)},className:"rounded-lg py-2 px-1"})]}),Object(m.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full",children:"Ingresar"})]})]})}var S=function(e){var t=e.role,n=void 0===t?"user":t,r=e.children,a=g(),s=a.token,c=a.user;return s?c&&c.role===n?r:Object(m.jsx)(d.a,{replace:!0,to:"/404"}):Object(m.jsx)(d.a,{replace:!0,to:"/login"})};function A(){var e=Object(d.g)();return Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){e("/Login")},children:" entrar a UCA PAGES"})})}var F=n(66),P=n(67),T=n(65),z=function(e){return Object(m.jsxs)("div",{className:"py-2",children:[Object(m.jsxs)("h1",{className:"font-bold text-lg text-blue-600",children:[e.username,":"]}),Object(m.jsx)("p",{children:e.description})]})};function E(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),s=Object(u.a)(a,2),c=s[0],o=s[1],d=Object(r.useState)(e.likes.length),b=Object(u.a)(d,2),j=b[0],f=b[1],h=Object(r.useState)(e.comments),p=Object(u.a)(h,2),O=p[0],v=p[1],w=function(){var t=Object(i.a)(l.a.mark((function t(){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.verifyToken(n);case 2:r=t.sent,a=r.username,o(a),console.log(a),v(e.comments);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=Object(r.useState)(e.likes.some((function(e){return e.username===c}))),k=Object(u.a)(y,2),N=k[0],C=k[1];function S(){return(S=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.Like(n,e.id);case 2:N?(f(j-1),C(!1)):(f(j+1),C(!0));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.AddFavorite(n,e.id);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){w()}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:Object(m.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:[Object(m.jsx)("img",{className:"lg:h-72 md:h-48 w-full object-cover object-center",src:e.image,alt:"Post img"}),Object(m.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(m.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:new Date(e.createdAt).toLocaleDateString()}),Object(m.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(m.jsx)("p",{className:"leading-relaxed mb-3",children:e.description}),Object(m.jsxs)("div",{className:"flex items-center flex-wrap ",children:[Object(m.jsx)("a",{className:"text-indigo-300 inline-flex items-center md:mb-2 lg:mb-0",children:e.username}),Object(m.jsxs)("span",{className:"text-gray-400 mr-3 inline-flex space-x-3 items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-200",children:[Object(m.jsx)(T.a,{className:"cursor-pointer"}),e.comments.length,Object(m.jsx)(F.a,{className:"cursor-pointer ".concat(N&&"text-yellow-400"),onClick:function(){return S.apply(this,arguments)}}),e.likes.length]}),Object(m.jsx)("button",{className:"text-yellow-400 inline-flex items-center leading-none text-sm cursor-pointer",children:Object(m.jsx)(P.a,{className:"cursor-pointer",onClick:function(){return A.apply(this,arguments)}})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-400 mt-4",children:"Comentarios"}),e.comments&&O.map((function(e){return Object(m.jsx)(z,{username:e.user.username,description:e.description},e.id)}))]})]})]})})})}var L=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),c=Object(u.a)(s,2),o=c[0],d=c[1],b=g(),j=(b.login,b.token);Object(r.useEffect)((function(){p()}),[]);var f=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.GetAll(j,6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(m.jsx)(E,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments,isOwnedPage:!1},e._id)}))}),Object(m.jsxs)("div",{className:"flex justify-center space-x-5 mb-3",children:[Object(m.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:h,children:"Anterior"}),Object(m.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:f,children:"Siguiente"})]})]})};function B(){var e=Object(d.g)(),t=g().Exit,n=g();n.login,n.token;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(m.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(m.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(m.jsxs)("nav",{onClick:function(){e("/userfavorite")},className:"top-0 left-0 z-0 cursor-pointer flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(m.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 cursor-pointer transition duration-150 ease-out ",children:[Object(m.jsx)("span",{className:"block",children:"Home"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(m.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(m.jsx)("span",{className:"block",children:"Favorites"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(m.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(m.jsx)("span",{className:"block",children:"Saved"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(m.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(m.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(m.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(m.jsx)(L,{})]})}var U=n(69),G=n(68);function I(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),s=Object(u.a)(a,2),c=s[0],o=s[1],d=Object(r.useState)(e.likes.length),b=Object(u.a)(d,2),j=b[0],f=b[1],h=Object(r.useState)(e.comments),p=Object(u.a)(h,2),O=p[0],v=p[1],w=Object(r.useState)(!1),y=Object(u.a)(w,2),k=(y[0],y[1],function(){var t=Object(i.a)(l.a.mark((function t(){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.verifyToken(n);case 2:r=t.sent,a=r.username,o(a),v(e.comments),console.log(a),console.log(O);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),N=Object(r.useState)(e.likes.some((function(e){return e.username===c}))),C=Object(u.a)(N,2),S=C[0],A=C[1];function T(){return(T=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.Like(n,e.id);case 2:S?(f(j-1),A(!1)):(f(j+1),A(!0));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){k()}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:Object(m.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:[Object(m.jsx)("img",{className:"lg:h-72 md:h-48 w-full object-cover object-center",src:e.image,alt:"Post img"}),Object(m.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(m.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:new Date(e.createdAt).toLocaleDateString()}),Object(m.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(m.jsx)("p",{className:"leading-relaxed mb-3",children:e.description}),Object(m.jsxs)("div",{className:"flex items-center flex-wrap ",children:[Object(m.jsx)("a",{className:"text-indigo-300 inline-flex items-center md:mb-2 lg:mb-0",children:e.username}),Object(m.jsxs)("span",{className:"text-gray-400 cursor-pointer mr-10 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm border-gray-200",children:[Object(m.jsx)(F.a,{className:"cursor-pointer ".concat(S&&"text-yellow-400"),onClick:function(){return T.apply(this,arguments)}}),e.likes.length]}),Object(m.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm",children:Object(m.jsx)(P.a,{})}),Object(m.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm",children:Object(m.jsx)(G.a,{})}),Object(m.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm cursor-pointer",children:Object(m.jsx)(U.a,{})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-400 mt-4",children:"Comentarios"}),e.comments&&O.map((function(e){return Object(m.jsx)(z,{username:e.user.username,description:e.description},e.id)}))]})]})]})})})}var _=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),c=Object(u.a)(s,2),o=c[0],d=c[1],b=g(),j=(b.login,b.token);Object(r.useEffect)((function(){p()}),[]);var f=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.GetAll(j,6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(m.jsx)(I,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments,isOwnedPage:!1},e._id)}))}),Object(m.jsxs)("div",{className:"flex justify-center space-x-5 pb-5",children:[Object(m.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:h,children:"Anterior"}),Object(m.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:f,children:"Siguiente"})]})]})},H=n(14),D=(n(30),n(60),function(){return Object(m.jsx)("form",{children:Object(m.jsx)("div",{class:"w-full",children:Object(m.jsx)("div",{class:"max-w-5xl mx-auto px-6 sm:px-6 lg:px-8 mb-12",children:Object(m.jsxs)("div",{class:"bg-gray-600 w-full shadow rounded p-8 sm:p-12 -mt-72",children:[Object(m.jsx)("p",{class:"text-3xl font-bold leading-7 text-center text-white",children:"Formulario Post"}),Object(m.jsxs)("form",{action:"",method:"post",children:[Object(m.jsx)("div",{class:"md:flex items-center mt-8",children:Object(m.jsxs)("div",{class:"w-full  flex flex-col",children:[Object(m.jsx)("label",{class:"font-semibold leading-none text-white",children:"Titulo"}),Object(m.jsx)("input",Object(H.a)({class:"placeholder-gray-500 ...",placeholder:"Ingrese titulo",type:"text"},"class","leading-none text-gray-900 p-3 focus:outline-none focus:border-blue-700 mt-4 bg-gray-100 border rounded border-gray-200"))]})}),Object(m.jsx)("div",{class:"md:flex items-center mt-8",children:Object(m.jsxs)("div",{class:"w-full flex flex-col",children:[Object(m.jsx)("label",{class:"font-semibold leading-none text-white",children:"Imagen"}),Object(m.jsx)("input",Object(H.a)({class:"placeholder-gray-500 ...",placeholder:"Ingrese URL de la imagen",type:"text"},"class","leading-none text-gray-900 p-3 focus:outline-none focus:border-blue-700 mt-4 bg-gray-100 border rounded border-gray-200"))]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{class:"w-full flex flex-col mt-8",children:[Object(m.jsx)("label",{class:"font-semibold leading-none text-white",children:"Descripcion"}),Object(m.jsx)("textarea",Object(H.a)({class:"placeholder-gray-500 ...",placeholder:"Ingrese descripcion del post",type:"text"},"class","h-40 text-base leading-none text-gray-900 p-3 focus:oultine-none focus:border-blue-700 mt-4 bg-gray-100 border rounded border-gray-200"))]})}),Object(m.jsx)("div",{class:"flex items-center justify-center w-full",children:Object(m.jsx)("button",{class:"mt-9 font-semibold leading-none text-white py-4 px-10 bg-blue-900 rounded hover:bg-blue-600 focus:ring-2 focus:ring-offset-2 focus:ring-blue-700 focus:outline-none",children:"Publicar"})})]})]})})})})});function J(){var e=Object(d.g)(),t=g().Exit,n=g();n.login,n.token;return Object(m.jsxs)("div",{children:[Object(m.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(m.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(m.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(m.jsxs)("nav",{className:"top-0 left-0 z-0 flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(m.jsxs)("a",{href:"#_",className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ",children:[Object(m.jsx)("span",{className:"block",children:"Home"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(m.jsxs)("a",{onClick:function(){e("/post")},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(m.jsx)("span",{className:"block",children:"Owned"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(m.jsxs)("a",{href:"#_",className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(m.jsx)("span",{className:"block",children:"Favorites"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(m.jsxs)("a",{onClick:function(){e("/createpost")},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(m.jsx)("span",{className:"block",children:"Create Post"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(m.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(m.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(m.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/",element:Object(m.jsx)(_,{})}),Object(m.jsx)(d.b,{path:"/post",element:Object(m.jsx)(S,{children:Object(m.jsx)(D,{})})})]})]})}function M(){var e=Object(d.g)(),t=g(),n=(t.login,t.token);x.GetFavorite(n);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(m.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(m.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(m.jsxs)("nav",{onClick:function(){e("/user")},className:"top-0 left-0 z-0 cursor-pointer flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(m.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 cursor-pointer transition duration-150 ease-out ",children:[Object(m.jsx)("span",{className:"block",children:"Home"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(m.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(m.jsx)("span",{className:"block",children:"Favorites"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(m.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(m.jsx)("span",{className:"block",children:"Saved"}),Object(m.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(m.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(m.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(m.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(m.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){e("/Login")},children:"Logout"})})})]})})})}function R(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("image",{src:"https://i.pinimg.com/originals/07/9c/3e/079c3ea0dce59cc171629800294b0f3d.jpg",alt:"err 404"}),Object(m.jsx)("h1",{children:"Error 404"}),Object(m.jsx)("p",{children:"Something went wrong, try: "}),Object(m.jsx)("button",{children:"Go to login"})]})}var q=n(12);var K=function(){return Object(m.jsx)(q.a,{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/",element:Object(m.jsx)(A,{})}),Object(m.jsx)(d.b,{path:"/Login",element:Object(m.jsx)(C,{})}),Object(m.jsx)(d.b,{path:"/*",element:Object(m.jsx)(R,{})}),Object(m.jsx)(d.b,{path:"/admin",element:Object(m.jsxs)(S,{role:"admin",children:[" ",Object(m.jsx)(J,{})]})}),Object(m.jsx)(d.b,{path:"/user",element:Object(m.jsxs)(S,{role:"user",children:[" ",Object(m.jsx)(B,{})]})}),Object(m.jsx)(d.b,{path:"/userfavorite",element:Object(m.jsxs)(S,{role:"user",children:[" ",Object(m.jsx)(M,{})]})})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(O,{children:Object(m.jsx)(K,{})})}),document.getElementById("root")),Q()}},[[61,1,2]]]);
//# sourceMappingURL=main.3506b188.chunk.js.map